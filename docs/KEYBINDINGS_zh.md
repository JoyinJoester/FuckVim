# FuckVim 快捷键参考手册

> 🎯 **意图优先编辑器** - 专为 AI 时代设计

---

## 模式切换

| 按键 | 当前模式 | 动作 |
|------|----------|------|
| `i` | Normal | 进入 **Insert** 模式 |
| `Esc` | Insert | 返回 **Normal** 模式 |
| `:` | Normal | 进入 **Command** 模式 (可视命令栏) |
| `Esc` | Command | 取消命令，返回 **Normal** 模式 |
| `Ctrl+C` | 任意 | ❌ **取消** (不再退出，按 :q 退出) |

---

## 窗口导航 (Spatial Navigation)

> 采用 i3wm / Tmux 风格的方向导航

| 当前位置 | 按键 (Ctrl + Dir) | 目标窗口 |
|----------|-------------------|----------|
| **编辑器** (右) | `Ctrl+H` / `Left` | 👈 **侧边栏** (优先 FileTree) |
| **文件树** (左上) | `Ctrl+L` / `Right` | 👉 **编辑器** |
| | `Ctrl+J` / `Down` | 👇 **Git 面板** |
| **Git 面板** (左下) | `Ctrl+L` / `Right` | 👉 **编辑器** |
| | `Ctrl+K` / `Up` | 👆 **文件树** |

---

## 侧边栏开关

| 命令 | 动作 |
|------|------|
| `:tree` | 开关文件树 |
| `:git`  | 开关 Git 面板 |

---

## Normal 模式（导航）

| 按键 | 动作 |
|------|------|
| `h` / `←` | 向左移动 |
| `j` / `↓` | 向下移动 |
| `k` / `↑` | 向上移动 |
| `l` / `→` | 向右移动 |
| `Shift+H` | ⬅️ **切换到上一个标签页** |
| `Shift+L` | ➡️ **切换到下一个标签页** |
| `0` | 跳到行首 |
| `$` | 跳到行尾 |
| `p` | 📋 **粘贴** (从系统剪贴板) |
| `Ctrl+P` | 🔍 **模糊搜索文件** (Telescope-style Finder) |
| `Ctrl+T` | 📟 **挂起/打开系统终端** (ToggleTerm) |
| `Space` | ⌨ **打开 WhichKey 菜单** (Leader Key) |
| `Tab` | 🤖 **触发 AI 处理** |

---

## ⌨ WhichKey 菜单 (Leader Key)

> LazyVim 风格，按 **空格** 显示可用快捷键

| 按键 | 动作 |
|------|------|
| `f` | 🔍 模糊搜索文件 |
| `e` | 📂 文件树 |
| `g` | 🐙 Git 状态 |
| `w` | 💾 保存文件 |
| `q` | ❌ 退出 |
| `v` | ┃ 垂直分屏 |
| `s` | ━ 水平分屏 |
| `t` | � **打开集成终端** (ToggleTerm) |
| `T` | �🔢 切换行号模式 |
| `p` | 📋 粘贴 |
| `l` | 🌐 **切换语言** (Switch Language) |
| `?` | 💡 **帮助文档** (Cheat Sheet) |
| `Esc`/`Space` | 关闭菜单 |

---

## Insert 模式（编辑）

| 按键 | 动作 |
|------|------|
| 任意字符 | 插入字符 |
| `Ctrl+V` | 📋 **粘贴** (从系统剪贴板) |
| `Ctrl+J` | 补全 / 下一行 |
| `Enter` | 插入新行 |
| `Backspace` | 删除字符 |
| `Tab` | 接受 AI 建议 |

---

## Command 模式（Ex 命令）

| 命令 | 动作 |
|------|------|
| `:q` / `:quit` | 退出 (多窗格时关闭当前窗格) |
| `:w` / `:write` | 保存 |
| `:wq` | 保存并退出 |
| `:vsp [file]` | 📐 **垂直分屏** (可选打开文件) |
| `:sp [file]` | 📐 **水平分屏** (可选打开文件) |
| `:tabnew [file]` | 📑 **新建标签页** |
| `:tree` / `:e` | 📂 **开关文件树** |
| `:git` | 📂 **开关 Git 面板** |
| `:commit <msg>` | 💾 **提交 Git 更改** |
| `:toggle-nu` / `:tn` | 📐 **切换行号模式** (相对/绝对) |
| `:lang [zh/en]` | 🌐 **切换语言** (无参数则切换) |

---

## 侧边栏操作 (Split View)

**文件树 (File Tree) - Yazi 风格**
| 按键 | 动作 |
|------|------|
| `j` / `k` | 上下导航 |
| `Enter` | 📂 进入目录 / 打开文件 |
| `Backspace` / `-` | ⬆️ 返回上一级 |
| **`a`** | ➕ **新建文件/目录** (输入 `name/` 创建目录) |
| **`d`** | 🗑️ **删除** (需确认 y/n) |
| **`r`** | ✏️ **重命名** |
| `Esc` | 取消操作 / 返回编辑器 |
| `Ctrl+J` | 👇 切换到 Git 面板 |

> 💡 **Yazi 小技巧**: 新建时输入 `utils/` (以斜杠结尾) 会创建目录！

**Git Init Mode** (黄框选中时)
| 按键 | 动作 |
|------|------|
| `y` | 🚀 **初始化 Git 仓库** (在此目录) |
| `Esc` | ❌ 取消初始化 |

**Git 面板**
| 按键 | 动作 |
|------|------|
| `Space` | ✅ **暂存/取消暂存** (Stage/Unstage) |
| `c` | 💾 **提交更改** (需先手动 Stage) |
| `C` | 🚀 **智能提交** (自动 Stage All + Commit) |
| `P` | 📤 **推送到远程** (异步, 不阻塞界面) |
| `E` | 📝 **编辑 Git 配置** (.git/config) |
| `r` | 🔄 **刷新状态** |
| `i` | 🆕 **初始化仓库** (如果未找到 Repo) |
| `Enter` | 👀 **查看 Diff / 文件内容** |
| `Ctrl+K` | 👆 **切换到文件树** |

---

## 🔍 模糊文件搜索 (Fuzzy Finder)

> Telescope 风格的快速文件定位

| 按键 | 模式 | 动作 |
|------|------|------|
| `Ctrl+P` | Normal | 🔍 **打开模糊搜索** |
| 输入字符 | Finder | 实时过滤文件 |
| `↑` / `Ctrl+K` | Finder | 上移选择 |
| `↓` / `Ctrl+J` | Finder | 下移选择 |
| `Enter` | Finder | ✅ **打开选中文件** |
| `Esc` | Finder | ❌ 关闭搜索 |

---

## 🎨 视觉特性

| 特性 | 描述 |
|------|------|
| **相对行号** | 当前行显示绝对行号(金色)，其他行显示与光标的距离 |
| **语法高亮** | Dracula 主题，支持多种语言 |
| **Tab 自动展开** | 加载时 Tab→4空格，保存 Makefile 时自动恢复 |
| **布局防爆** | 长行自动截断，不破坏 UI 边框 |

